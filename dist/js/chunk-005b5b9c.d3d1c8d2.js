(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-005b5b9c"],{"00de":function(t,e,i){},"0a49":function(t,e,i){var s=i("9b43"),a=i("626a"),o=i("4bf8"),n=i("9def"),r=i("cd1c");t.exports=function(t,e){var i=1==t,c=2==t,l=3==t,u=4==t,d=6==t,h=5==t||d,p=e||r;return function(e,r,f){for(var v,g,y=o(e),_=a(y),m=s(r,f,3),C=n(_.length),b=0,S=i?p(e,C):c?p(e,0):void 0;C>b;b++)if((h||b in _)&&(v=_[b],g=m(v,b,y),t))if(i)S[b]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return b;case 2:S.push(v)}else if(u)return!1;return d?-1:l||u?u:S}}},"0ce4":function(t,e,i){},1110:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("my-header"),i("main",[i("div",{staticClass:"contain"},[i("div",{staticClass:"main-top"},[i("div",{staticClass:"current-place"},[i("span",[t._v("当前位置：")]),i("span",[t._v("玉龙小区")]),i("router-link",{attrs:{tag:"span",to:{path:"/"}}},[t._v("[切换地址]")])],1),i("div",{staticClass:"search-food"},[i("el-col",[i("el-autocomplete",{staticClass:"inline-input",attrs:{size:"small","fetch-suggestions":t.getSearchHistory,placeholder:"请输入商家、美食..."},on:{select:t.selectSearchHistory},model:{value:t.searchShop,callback:function(e){t.searchShop=e},expression:"searchShop"}}),i("el-button",{attrs:{icon:"el-icon-search",size:"small"},on:{click:function(e){t.getSearchResult(t.searchShop)}}})],1)],1)]),t.isShowSearchResult?t._e():i("div",{staticClass:"category"},[i("div",{staticClass:"category-l"},[t._v("商家分类：")]),i("div",{staticClass:"category-r"},[i("ul",{staticClass:"clear food-type"},t._l(t.detailFoodTypeList,function(e,s){return i("li",{key:s,on:{click:function(i){t.foodTypeClick(i,e,s)}}},[t._v(t._s(e.name))])})),t.isShowTypeDetail?i("ul",{staticClass:"type-detail clear"},t._l(t.selectDetailFoodTypeList.sub_categories,function(e,s){return i("li",{key:s,class:{"type-detail-active":0==s},on:{click:function(i){t.typeDetailClick(i,e)}}},[t._v(t._s(e.name))])})):t._e()])]),t.latitude&&!t.isShowSearchResult?i("shop-list",{attrs:{restaurantCategoryId:t.restaurantCategoryId,restaurantCategoryIds:t.restaurantCategoryIds,sortByType:t.sortByType,deliveryMode:t.delivery_mode,confirmSelect:t.confirmStatus,supportIds:t.support_ids}}):t._e(),t.isShowSearchResult?i("search-result",{ref:"searchResult",attrs:{keyword:t.searchShop}}):t._e()],1)]),i("my-footer",{attrs:{showCompanyInfo:!0,"show-download-app":!0}})],1)},a=[],o=(i("6762"),i("2fdb"),i("c93e")),n=(i("96cf"),i("3040")),r=i("bdaa"),c=i("0031"),l=i("2f62"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shop-list"},[t.isLoading?i("loading"):t._e(),i("ul",{staticClass:"clear"},t._l(t.shopList,function(e,s){return i("li",{key:s,on:{click:function(i){t.toShop(e.id)}}},[i("el-popover",{attrs:{placement:"right",width:"250",trigger:"hover"}},[i("div",{staticClass:"shop-hover"},[i("div",{staticClass:"shop-detail"},[i("div",{staticClass:"detail-title"},[t._v(t._s(e.name))]),i("div",{staticClass:"detail-type"},[t._v(t._s(e.category))]),i("div",{staticClass:"detail-supports"},[i("ul",t._l(e.supports,function(e,s){return i("li",{key:s},[i("i",{staticClass:"support-icon",style:"color:#"+e.icon_color},[t._v(t._s(e.icon_name))]),i("span",[t._v(t._s(e.description))])])}))]),i("div",{staticClass:"detail-minite"},[i("div",{staticClass:"send-cost"},[t._v(t._s(e.piecewise_agent_fee.tips))]),i("div",{staticClass:"distance"},[t._v("\n                平均\n                "),i("span",{staticClass:"distance-light"},[t._v(t._s(e.order_lead_time))]),t._v("分钟到达\n              ")])]),i("div",{staticClass:"detail-des"},[t._v(t._s(e.description))])])]),i("div",{attrs:{slot:"reference"},slot:"reference"},[i("div",{staticClass:"list-item-l"},[i("img",{attrs:{src:"//elm.cangdu.org/img/164ad0b6a3917599.jpg"}}),i("div",{staticClass:"list-item-l-span"},[t._v("22分钟")])]),i("div",{staticClass:"list-item-r"},[i("div",{staticClass:"shop-title"},[t._v(t._s(e.name))]),i("div",{staticClass:"star-level"},[i("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900"},model:{value:e.rating,callback:function(i){t.$set(e,"rating",i)},expression:"item.rating"}})],1),i("div",{staticClass:"delivery-cost"},[t._v(t._s(e.piecewise_agent_fee.tips))]),i("div",{staticClass:"icon-list"},t._l(e.supports,function(e,s){return i("i",{key:s,staticClass:"support-icon",style:"color:#"+e.icon_color},[t._v(t._s(e.icon_name))])}))])])])],1)})),t.isLogin?t._e():i("router-link",{staticClass:"more-login",attrs:{tag:"div",to:{path:"/login"}}},[t._v("\n    查看更多商家，请先\n    "),i("span",{staticClass:"highlight"},[t._v("登录")])])],1)},d=[];function h(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function p(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(t){return h(t)||p(t)||f()}var g=i("3a5e"),y={name:"ShopList",components:{Loading:g["a"]},data:function(){return{offset:0,limit:20,isLoading:!0,shopList:[]}},computed:Object(o["a"])({},Object(l["c"])(["latitude","longitude","isLogin"])),props:["restaurantCategoryId","restaurantCategoryIds","sortByType","deliveryMode","supportIds","confirmSelect"],watch:{restaurantCategoryIds:function(t){this.listenPropChange()},sortByType:function(t){this.listenPropChange()},confirmSelect:function(t){this.listenPropChange()}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.isLoading=!0,Object(r["j"])({latitude:this.latitude,longitude:this.longitude,offset:this.offset,limit:this.limit,restaurant_category_id:this.restaurantCategoryId,restaurant_category_ids:this.restaurantCategoryIds}).then(function(e){1==e.data.status&&(t.shopList=v(e.data.data),t.isLoading=!1)})},listenPropChange:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.offset=0,this.isLoading=!0,t.next=4,Object(r["j"])({latitude:this.latitude,longitude:this.longitude,offset:this.offset,limit:this.limit,restaurant_category_id:this.restaurantCategoryId,restaurant_category_ids:this.restaurantCategoryIds,sortByType:this.sortByType,deliveryMode:this.deliveryMode,supportIds:this.supportIds});case 4:e=t.sent,1==e.data.status&&(this.shopList=v(e.data.data),this.isLoading=!1);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),toShop:function(t){this.isLogin?this.$router.push({path:"/shop",query:{shopId:t}}):this.$message({message:"请您先登录",type:"warning"})}}},_=y,m=(i("f136"),i("e4f3"),i("2877")),C=Object(m["a"])(_,u,d,!1,null,"3fa40ba3",null);C.options.__file="ShopList.vue";var b=C.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"query-list"},[t.isLoading?i("loading"):i("ul",t._l(t.shopList,function(e,s){return i("li",{key:s},[i("div",{staticClass:"list-item"},[i("div",{staticClass:"shop-title",on:{click:function(i){t.toShop(e.id)}}},[i("div",{staticClass:"shop-info"},[i("div",{staticClass:"info-name"},[i("span",[t._v(t._s(e.name))]),t._l(e.supports,function(e,s){return i("i",{key:s,style:"background-color:#"+e.icon_color},[t._v(t._s(e.icon_name))])})],2),i("div",{staticClass:"info-detail"},[i("div",{staticClass:"rate"},[i("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.rating,callback:function(i){t.$set(e,"rating",i)},expression:"item.rating"}})],1),i("div",{staticClass:"delivery-time"},[t._v("平均"+t._s(e.order_lead_time)+"送达")])])]),i("div",{staticClass:"shop-doom"},[t._v("\n                            可预订，10：00后送餐\n                        ")])]),i("div",{staticClass:"food-list"},[i("ul",t._l(e.hotFood,function(e,s){return i("li",{key:s,class:{hide:s>t.hotFoodNum}},[i("div",{staticClass:"food-item"},[i("div",{staticClass:"food-name"},[t._v(t._s(e.name))]),i("div",{staticClass:"food-cost"},[t._v("¥"+t._s(e.specfoods[0].price))]),i("div",{staticClass:"food-status"},[t._v("可预订")]),i("div",{staticClass:"food-rate"},[i("div",{staticClass:"rate"},[i("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.rating,callback:function(i){t.$set(e,"rating",i)},expression:"food.rating"}})],1),i("span",[t._v("月售"+t._s(e.month_sales)+"份")])])])])})),e.hotFood.length>3?i("div",{staticClass:"food-more"},[t._v("\n                            本商家还有"),i("span",{staticClass:"light-orange"},[t._v(t._s(e.hotFood.length-3))]),t._v("份相关美食，\n                            "),i("span",{staticClass:"light-blue show-more-span",on:{click:function(e){t.showAllFood(e)}}},[t._v("显示全部相关美食")])]):t._e()])])])}))],1)])},w=[],k=(i("7514"),{name:"SearchResult",components:{Loading:g["a"]},data:function(){return{isLoading:!1,rating:5,hotFoodNum:2,shopList:[]}},computed:Object(o["a"])({},Object(l["c"])(["latitude","longitude","isLogin"])),props:["keyword"],mounted:function(){this.initData()},methods:{initData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.keyword;this.isLoading=!0,Object(r["k"])({latitude:this.latitude,longitude:this.longitude,keyword:e}).then(function(e){1==e.data.status&&(t.shopList=e.data.data,console.log(t.shopList)),t.isLoading=!1})},showAllFood:function(t){$(t.target).parents(".food-more").hide().parents(".food-list").find("li.hide").show()},toShop:function(t){this.isLogin?this.$router.push({path:"/shop",query:{shopId:t}}):this.$message({message:"请您先登录",type:"warning"})}}}),L=k,I=(i("5cb1"),i("7542"),Object(m["a"])(L,S,w,!1,null,"2e3ca6b4",null));I.options.__file="SearchResult.vue";var x=I.exports,O=i("0ee4"),j=i("bd61"),R={name:"Index",components:{ShopList:b,SearchResult:x,MyFooter:O["a"],MyHeader:j["a"]},data:function(){return{latitude:"",longitude:"",isShowQR:!1,topActiveIndex:1,isShowTypeDetail:!1,foodTypeList:[],detailFoodTypeList:[],selectDetailFoodTypeList:{},sortByType:void 0,restaurantCategoryId:void 0,restaurantCategoryIds:void 0,confirmStatus:void 0,support_ids:void 0,delivery_mode:void 0,searchShop:"",searchHistory:[],isShowSearchResult:!1}},beforeMount:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$route.query.latitude&&this.$route.query.longitude){t.next=8;break}return t.next=3,Object(r["c"])();case 3:e=t.sent,this.latitude=e.data.latitude,this.longitude=e.data.longitude,t.next=11;break;case 8:this.latitude=this.$route.query.latitude,this.longitude=this.$route.query.longitude,this.RECORD_ADDRESS({latitude:this.latitude,longitude:this.longitude});case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),mounted:function(){this.initData()},methods:Object(o["a"])({},Object(l["b"])(["RECORD_ADDRESS"]),{initData:function(){var t=this;Object(r["e"])().then(function(e){1==e.data.status&&(t.detailFoodTypeList=e.data.data,console.log(t.detailFoodTypeList))}),Object(c["b"])("search_food")&&(this.searchHistory=JSON.parse(Object(c["b"])("search_food")))},topLinkClick:function(t){this.topActiveIndex=t},foodTypeClick:function(t,e,i){var s=this;Object(c["a"])({el:t.target,activeClass:"food-type-active",callback:function(t){s.detailFoodTypeList[i].sub_categories.length?(s.isShowTypeDetail=!0,s.selectDetailFoodTypeList=s.detailFoodTypeList[i],$(".type-detail li").removeClass("type-detail-active").eq(0).addClass("type-detail-active"),s.restaurantCategoryId=e.id||void 0,s.restaurantCategoryIds=e.sub_categories[0].id):(s.detailFoodTypeList[i].id?(s.restaurantCategoryId=s.detailFoodTypeList[i].id,s.restaurantCategoryIds=void 0):(s.restaurantCategoryIds=void 0,s.restaurantCategoryId=void 0),s.isShowTypeDetail=!1)}})},typeDetailClick:function(t,e){var i=this;Object(c["a"])({el:t.target,activeClass:"type-detail-active",callback:function(t){i.restaurantCategoryIds=e.id||void 0}})},getSearchHistory:function(t,e){var i=this.searchHistory.map(function(t){return{value:t}});e(i)},selectSearchHistory:function(t){this.getSearchResult(t.value)},getSearchResult:function(t){this.searchHistory.includes(t)||(this.searchHistory.push(t),Object(c["c"])("search_food",this.searchHistory)),t?this.isShowSearchResult?this.$refs.searchResult.initData(t):this.isShowSearchResult=!0:this.isShowSearchResult=!1}})},T=R,D=(i("6392"),i("e7c9"),Object(m["a"])(T,s,a,!1,null,"15e0cd8e",null));D.options.__file="Index.vue";e["default"]=D.exports},1169:function(t,e,i){var s=i("2d95");t.exports=Array.isArray||function(t){return"Array"==s(t)}},"26a9":function(t,e,i){},"2f1d":function(t,e,i){t.exports=i.p+"img/qr-code.95e53286.png"},"2fdb":function(t,e,i){"use strict";var s=i("5ca1"),a=i("d2c8"),o="includes";s(s.P+s.F*i("5147")(o),"String",{includes:function(t){return!!~a(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},3055:function(t,e,i){"use strict";var s=i("00de"),a=i.n(s);a.a},"385b":function(t,e,i){},"3a5e":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"loading"})])}],o={name:"loading"},n=o,r=(i("3055"),i("2877")),c=Object(r["a"])(n,s,a,!1,null,"922edc96",null);c.options.__file="Loading.vue";e["a"]=c.exports},5147:function(t,e,i){var s=i("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[s]=!1,!"/./"[t](e)}catch(t){}}return!0}},"5cb1":function(t,e,i){"use strict";var s=i("9611"),a=i.n(s);a.a},6392:function(t,e,i){"use strict";var s=i("0ce4"),a=i.n(s);a.a},"64d2":function(t,e,i){},6762:function(t,e,i){"use strict";var s=i("5ca1"),a=i("c366")(!0);s(s.P,"Array",{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")("includes")},7130:function(t,e,i){t.exports=i.p+"img/login-logo.8168d123.svg"},7514:function(t,e,i){"use strict";var s=i("5ca1"),a=i("0a49")(5),o="find",n=!0;o in[]&&Array(1)[o](function(){n=!1}),s(s.P+s.F*n,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(o)},7542:function(t,e,i){"use strict";var s=i("385b"),a=i.n(s);a.a},8764:function(t,e,i){},"8f21":function(t,e,i){},9611:function(t,e,i){},aae3:function(t,e,i){var s=i("d3f4"),a=i("2d95"),o=i("2b4c")("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==a(t))}},b094:function(t,e,i){"use strict";var s=i("8f21"),a=i.n(s);a.a},bd61:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("div",{staticClass:"top"},[s("div",{staticClass:"top-left"},[s("img",{staticClass:"logo",attrs:{src:i("7130"),alt:""}}),s("ul",{staticClass:"clear"},[s("li",{on:{click:function(e){t.topLinkClick(1)}}},[t._v("首页")]),s("li",{on:{click:function(e){t.topLinkClick(2)}}},[t._v("我的订单")])])]),s("div",{staticClass:"top-right"},[s("ul",{staticClass:"more clear"},[s("li",{on:{mouseover:function(e){t.isShowQR=!0},mouseleave:function(e){t.isShowQR=!1}}},[s("i",{staticClass:"el-icon-mobile-phone"}),t._v("手机应用\n          "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowQR,expression:"isShowQR"}],staticClass:"phone"},[s("span",[t._v("扫一扫，手机订餐更方便")]),s("img",{attrs:{src:i("2f1d"),alt:""}})])])]),s("div",{staticClass:"user-con"},[t.isLogin?s("div",{staticClass:"user-info"},[s("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal"}},[s("el-submenu",{attrs:{index:"2"}},[s("template",{slot:"title"},[t._v(t._s(t.username))]),s("router-link",{attrs:{tag:"el-menu-item",to:{path:"/user"},index:"2-1"}},[t._v(" 个人中心")]),s("el-menu-item",{attrs:{index:"2-3"},on:{click:t.quit}},[t._v("退出登录")])],2)],1)],1):s("router-link",{staticClass:"btn-login",attrs:{to:"/login"}},[t._v("登录/注册")])],1)])])])},a=[],o=i("c93e"),n=(i("0031"),i("2f62")),r={name:"Header",data:function(){return{topActiveIndex:1,isShowQR:!1,username:"",userId:0}},computed:Object(o["a"])({},Object(n["c"])(["userInfo","isLogin","latitude","longitude"])),props:{},mounted:function(){this.init()},methods:Object(o["a"])({},Object(n["b"])(["QUIT_LOGIN"]),{init:function(){this.userInfo&&(this.username=this.userInfo.username,this.userId=this.userInfo.userId)},topLinkClick:function(t){switch(this.topActiveIndex=t,t){case 1:this.$router.push({path:"/index",query:{latitude:this.latitude,longitude:this.longitude}});break;case 2:if(!this.isLogin)return void this.$message.error("请登录");this.$router.push("/user");break}},quit:function(){this.QUIT_LOGIN(),this.$router.push("/index")}})},c=r,l=(i("b094"),i("2877")),u=Object(l["a"])(c,s,a,!1,null,"7d8d6be4",null);u.options.__file="Header.vue";e["a"]=u.exports},cd1c:function(t,e,i){var s=i("e853");t.exports=function(t,e){return new(s(t))(e)}},d2c8:function(t,e,i){var s=i("aae3"),a=i("be13");t.exports=function(t,e,i){if(s(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(a(t))}},e4f3:function(t,e,i){"use strict";var s=i("64d2"),a=i.n(s);a.a},e7c9:function(t,e,i){"use strict";var s=i("26a9"),a=i.n(s);a.a},e853:function(t,e,i){var s=i("d3f4"),a=i("1169"),o=i("2b4c")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),s(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},f136:function(t,e,i){"use strict";var s=i("8764"),a=i.n(s);a.a}}]);
//# sourceMappingURL=chunk-005b5b9c.d3d1c8d2.js.map